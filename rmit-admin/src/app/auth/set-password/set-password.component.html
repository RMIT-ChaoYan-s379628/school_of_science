<app-loading
    *ngIf="isLoading"
></app-loading>

<div class="set picture-background">
    <div *ngIf="!messageState" class="set__container auth-white-container">
        <h3 class="auth-header">
            set password
        </h3>
        <div
            *ngIf="formData.errors.length || hasError"
            class="set__errors-bar errors-bar"
        >
            {{errorText}}
        </div>
        <div class="set__input-group">
            <input 
                type="password" 
                class="input input--standard input--auth"
                placeholder="new password"
                [ngClass]="{'input--error': formData.errors.length}"
                [(ngModel)]="formData.password"
            >
        </div>
        <div class="set__input-group">
            <input 
                type="password" 
                class="input input--standard input--auth"
                placeholder="repeat password"
                [ngClass]="{'input--error': formData.errors.length}"
                [(ngModel)]="formData.repeat"
            >
        </div>
        <button
            class="action-button"
            (click)="set()"
        >
            SET PASSWORD
        </button>
    </div>
    <app-auth-message *ngIf="messageState">
        <h3 class="auth-header">Your password has been set.</h3>
        <p>
            <a routerLink="/auth/login">Login</a> with your new password.
        </p>
    </app-auth-message>
</div>